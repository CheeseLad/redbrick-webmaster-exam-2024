<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmation Request</title>
</head>
<body>
    <h1>Confirmation Request</h1>
    <div id="orderDetails">
        <!-- Order details will be displayed here -->
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
    // Fetch the most recent order from the API
    var retrievedData = localStorage.getItem('order_id');
console.log(retrievedData); 
//const url = `http://127.0.0.1:8001/api/hoodie/${retrievedData}/`;
const url = 'http://127.0.0.1:8001/api/hoodie/1/';
    fetch(url)
        .then(response => response.json())
        .then(data => {
            // Display order details on the page
            const orderDetailsElement = document.getElementById('orderDetails');
            const orderHTML = `
                <p><strong>Order ID:</strong> ${data.order_id}</p>
                <p><strong>Username:</strong> ${data.username}</p>
                <p><strong>Affiliation:</strong> ${data.affiliation}</p>
                <p><strong>Size:</strong> ${data.size}</p>
                <p><strong>Amount:</strong> ${data.amount}</p>
                <p><strong>Order Date:</strong> ${data.order_date}</p>
            `;
            orderDetailsElement.innerHTML = orderHTML;
        })
        .catch(error => {
            console.error('Error fetching order:', error);
        });
});

    </script>
</body>
</html>
